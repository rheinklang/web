<rk-seo-manager *ngIf="event" context="event" [data]="event"></rk-seo-manager>

<div class="v-event__intro">
	<div *ngIf="event" class="container h-text-align--center">
			<p class="v-event__back-link">
				<a [routerLink]="['/events']">
					<rk-icon select="arrow-left" color="#585858"></rk-icon>
					Alle Events
				</a>
			</p>
			<rk-heading size="2" visualSize="1" [text]="event.title"></rk-heading>
			<h3 class="v-event__intro-meta-info">
				Am {{event.date | date: 'dd.MM.yyyy' }} in {{event.location.city}} ({{event.location.canton}}, {{event.location.country}})
			</h3>
	</div>
</div>

<div *ngIf="event" class="container">
	<div class="row">
		<div class="col-xs-12 col-sm-12 col-md-8 v-event__description">
			<rk-richtext [text]="event.description"></rk-richtext>
		</div>
	</div>
</div>

<div *ngIf="event" class="v-event__actions container">
	<div class="row align-items-center justify-content-center v-event__actions-row">
		<rk-button-link *ngIf="event.tickets && event.tickets.externalShopLink" [href]="event.tickets.externalShopLink" [secure]="true">
			<rk-icon select="credit-card" color="#fff" width="23px" height="23px"></rk-icon>
			Tickets kaufen
		</rk-button-link>
		<rk-button-link *ngIf="event.facebookUrl" [href]="event.facebookUrl" [campaign]="event.title" [secure]="true" modifier="facebook">
			<rk-icon select="facebook3" width="23px" height="23px"></rk-icon>
			Facebook Event
		</rk-button-link>
		<rk-button-link *ngIf="event.location.googleMapsURL" [href]="event.location.googleMapsURL" [secure]="true" modifier="green">
			<rk-icon select="map" color="#fff" width="23px" height="23px"></rk-icon>
			In Maps öffnen
		</rk-button-link>
	</div>
</div>

<div *ngIf="shouldShowMaps" class="v-event__map">
	<rk-map [url]="event.location.googleMapsURL" theme="medium" [zoom]="event.location.zoomLevel"></rk-map>
</div>

<rk-content-block heading="Schon gelesen?" color="black" [centerHeading]="true" space="xlarge">
	<div *ngIf="articles && articles.length" class="v-event__articles container">
		<div class="row justify-content-center align-self-center">
			<div *ngFor="let article of articles" class="col-xs-12 col-md-6 col-lg-4">
				<rk-teaser
					*ngIf="article && article._id"
					[disableAnimation]="true"
					[id]="article._id"
					[title]="article.title"
					subtitle="Publiziert am {{article.releaseDate | date:'dd.MM.yy'}} von {{article.author}}"
					[excerpt]="article.excerpt"
					[tags]="article.tags"
					[previewImage]="article.previewImage"
					(hovered)="preloadArticle(article._id)"
				></rk-teaser>
			</div>
		</div>
	</div>
</rk-content-block>
